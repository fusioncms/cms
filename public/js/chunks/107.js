(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{FhVb:function(t,e,n){"use strict";n.r(e);var s={name:"updater-modal",props:{value:{type:[Object,Boolean],required:!0}},computed:{version:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{confirm:function(){this.close()},close:function(){this.version=!1}}},i=n("KHd+"),o={name:"updater",components:{"updater-modal":Object(i.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p-modal",{key:"updater_modal",attrs:{name:"updater",title:"Update to "+t.version.title},model:{value:!!this.version,callback:function(e){t.$set(!!this,"version",e)},expression:"!! this.version"}},[n("p",[t._v("Are you sure you want to switch to version "+t._s(t.version.title)+"?")]),t._v(" "),n("template",{slot:"footer"},[n("p-button",{staticClass:"button button--primary",attrs:{type:"button"},on:{click:t.confirm}},[t._v("Confirm")]),t._v(" "),n("p-button",{staticClass:"mr-3",attrs:{type:"button"},on:{click:t.close}},[t._v("Cancel")])],1)],2)}),[],!1,null,null,null).exports},data:function(){return{version:!1,items:[]}},computed:{current:function(){return"v".concat(this.$store.state.fusion.version)},id:function(){return this.findBy("title",this.current).id}},methods:{findBy:function(t,e){return _.find(this.items,(function(n){return n[t]==e}))},upgrade:function(t){this.version=this.findBy("id",t)}},beforeRouteEnter:function(t,e,n){axios.get("https://beta.getfusioncms.com/releases.json").then((function(t){return n((function(e){return e.items=t.data.items}))})).catch((function(t){}))}},a=Object(i.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("portal",{attrs:{to:"title"}},[n("page-title",{attrs:{icon:"upload"}},[t._v("Updater")])],1),t._v(" "),n("portal",{attrs:{to:"actions"}},[n("a",{attrs:{href:"https://beta.getfusioncms.com/changelog",title:"Changelog",target:"_blank"}},[t._v(t._s(t.current))])]),t._v(" "),t._l(t.items,(function(e,s){return n("div",{staticClass:"card"},[n("div",{staticClass:"card__header flex items-center justify-between"},[n("h3",{staticClass:"card__title"},[t._v("\n                "+t._s(e.title)+"\n\n                "),n("span",{staticClass:"text-xs block"},[t._v("\n                    Released "+t._s(t.$moment(e.date_published).format("MMM Do, YYYY"))+"\n                ")])]),t._v(" "),n("div",{staticClass:"flex items-center justify-start"},[e.id>t.id?n("p-button",{on:{click:function(n){return t.upgrade(e.id)}}},[t._v("\n                    Upgrade to "+t._s(e.title)+"\n                ")]):t._e(),t._v(" "),e.id==t.id?n("p-button",{attrs:{disabled:""}},[t._v("\n                    Current version\n                ")]):t._e(),t._v(" "),t._l(e.attachments,(function(t,e){return n("a",{key:"attachment-"+s+"-"+e,staticClass:"button button--icon ml-1",attrs:{href:t.url,title:t.mime_type}},[n("fa-icon",{staticClass:"icon",attrs:{icon:"download"}})],1)})),t._v(" "),n("a",{staticClass:"button button--icon ml-1",attrs:{href:"https://github.com/fusioncms/fusioncms/releases/tag/"+e.title,title:"View on Github",target:"_blank"}},[n("fa-icon",{staticClass:"icon",attrs:{icon:"code"}})],1)],2)]),t._v(" "),n("div",{staticClass:"card__body"},[n("p",[t._v(t._s(t.items.content_text))]),t._v(" "),t._l(e._changelog,(function(e,s){return n("div",t._l(e,(function(e,i){return n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("span",{staticClass:"badge"},[t._v(t._s(s))])]),t._v(" "),n("div",{staticClass:"col"},[t._v("\n                        "+t._s(i)+"\n\n                        "),t._l(e,(function(e){return n("a",{key:e,staticClass:"mr-1 text-xs",attrs:{href:"https://github.com/fusioncms/fusioncms/issues/"+e,target:"_blank"}},[t._v("\n                            #"+t._s(e)+"\n                        ")])}))],2)])})),0)}))],2)])})),t._v(" "),n("portal",{attrs:{to:"modals"}},[n("updater-modal",{model:{value:t.version,callback:function(e){t.version=e},expression:"version"}})],1)],2)}),[],!1,null,null,null);e.default=a.exports}}]);