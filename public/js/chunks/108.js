(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{X4nO:function(e,t,r){"use strict";r.r(t),r.d(t,"getUserAndRoles",(function(){return o}));var s=r("L2JU");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){axios.all([axios.get("/api/roles"),axios.get("/api/users/"+e)]).then(axios.spread((function(e,r){r=r.data.data,e=e.data.data,t(null,r,e,{name:r.name,email:r.email,status:r.status,role:r.roles[0].name,password:"",password_confirmation:""})})))}var u={computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(s.c)({currentUser:"auth/getUser"})),head:{title:function(){return{inner:this.user.name||"Loading..."}}},data:function(){return{user:{},roles:[]}},beforeRouteEnter:function(e,t,r){o(e.params.user,(function(e,t,s,a){r(e?function(t){t.$router.push("/users"),toast(e.toString(),"danger")}:function(e){e.user=t,e.roles=s,e.$emit("updateHead")})}))},methods:{destroy:function(e){var t=this;axios.delete("/api/users/"+e).then((function(e){toast("User successfully deleted.","success"),t.$router.push("/users")}))}}},i=r("KHd+"),l=Object(i.a)(u,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user-page"},[r("portal",{attrs:{to:"title"}},[r("page-title",{attrs:{icon:"users"}},[e._v("User - "+e._s(e.user.name))])],1),e._v(" "),r("portal",{attrs:{to:"actions"}},[r("ui-button",{key:"edit-user-btn",attrs:{to:{name:"users.edit",params:{user:e.user.id}},variant:"secondary"}},[e._v("Edit User")]),e._v(" "),e.currentUser.id!=e.user.id?r("ui-button",{directives:[{name:"modal",rawName:"v-modal:delete-user",arg:"delete-user"}],key:"delete-user-btn",attrs:{variant:"danger"}},[e._v("Delete User")]):e._e()],1),e._v(" "),r("portal",{attrs:{to:"modals"}},[e.currentUser.id!=e.user.id?r("ui-modal",{attrs:{name:"delete-user",title:"Delete User"}},[r("p",[e._v("Are you sure you want to permenantly delete this user?")]),e._v(" "),r("template",{slot:"footer"},[r("ui-button",{directives:[{name:"modal",rawName:"v-modal:delete-user",arg:"delete-user"}],staticClass:"ml-3",attrs:{variant:"danger"},on:{click:function(t){return e.destroy(e.user.id)}}},[e._v("Delete")]),e._v(" "),r("ui-button",{directives:[{name:"modal",rawName:"v-modal:delete-user",arg:"delete-user"}],attrs:{variant:"secondary"}},[e._v("Cancel")])],1)],2):e._e()],1)],1)}),[],!1,null,null,null);t.default=l.exports}}]);