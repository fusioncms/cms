(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{zYON:function(e,t,r){"use strict";r.r(t);function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o={name:"file-fieldtype",data:function(){return{model:this.value,errors:[]}},props:{field:{type:Object,required:!0},value:{type:Array,required:!1,default:function(){return[]}}},computed:{placeholder:function(){return _.defaultTo(this.field.settings.placeholder,"")},limit:function(){return _.defaultTo(this.field.settings.limit,!1)},count:function(){return this.model.length}},methods:{upload:function(e){var t=this,r=new FormData,i=0,o=[];this.errors=[],this.limit&&e.length>this.limit&&(e=_.drop(e,e.length-this.limit),this.errors.push("File limit of ".concat(this.limit," has been reached."))),r.append("_method","POST"),_.each(e,(function(e){e instanceof File?(i+=1,r.append("file[]",e)):o.unshift(e)})),i>0&&axios.post("/api/fields/file",r).then((function(e){return o.unshift.apply(o,n(e.data.files))})).catch((function(e){_.each(e.response.data.errors,(function(e,r){t.errors.push(e),t.model.splice(r,1)}))})),this.$emit("input",o)}}},l=r("KHd+"),a=Object(l.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"field"},[r("p-upload",{ref:"upload",attrs:{name:"file",label:e.field.name,help:e.field.help,placeholder:e.placeholder,multiple:!0,errors:e.errors},on:{input:e.upload},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)}),[],!1,null,null,null);t.default=a.exports}}]);