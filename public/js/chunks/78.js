(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{ig3E:function(e,t,n){"use strict";n.r(t);var s=n("OW73"),i={name:"replicator-fieldtype",data:function(){return{replicants:_.defaultTo(this.value,[]),sections:[],active:0}},props:{field:{type:Object,required:!0},value:{type:Array,required:!1,default:function(){return[]}},errors:{type:Object,required:!1,default:function(){}}},watch:{replicants:function(e){this.$emit("input",e)}},methods:{fieldErrors:function(e){var t=_.has(this.errors,"errors")?this.errors.errors:{};return t=_.pickBy(t,(function(t,n){return _.startsWith(n,e)})),t=_.mapKeys(t,(function(t,n){return _.replace(n,e,"")})),new s.a(t)},_errorMessage:function(e){return this.errors?this.errors.get(e):""},fields:function(e){var t=_.findIndex(this.sections,(function(t){return t.id==e.id}));return-1!=t?this.sections[t].fields:[]},add:function(e){var t=this.sections[e],n={};_.each(t.fields,(function(e){return n[e.handle]=e.default})),this.replicants.push({section:t,fields:n})},remove:function(e){this.replicants.splice(e,1),this.active=0===e?1:0},select:function(e){this.active=this.replicants[e]?e:0}},created:function(){var e=this;axios.get("/api/replicators/".concat(this.field.settings.replicator)).then((function(t){return e.sections=t.data.data.sections}))}},r=n("KHd+"),a=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",{staticClass:"form__label",attrs:{for:e.field.handle},domProps:{innerHTML:e._s(e.field.name)}}),e._v(" "),e._l(e.sections,(function(t,s){return n("p-button",{key:t.handle,staticClass:"button--secondary mr-2",on:{click:function(t){return e.add(s)}}},[e._v("\n        \n        "+e._s(t.name)+"\n        "),n("fa-icon",{staticClass:"fa-xs",attrs:{icon:"plus"}})],1)})),e._v(" "),n("div",{staticClass:"tabs"},[n("ul",{staticClass:"tab__list overflow-x-scroll"},e._l(e.replicants,(function(t,s){return n("li",{key:"replicant-"+s+"-tab",staticClass:"tab flex-shrink-0 flex-1 border-r border-gray-200",class:{"tab--active":s==e.active}},[n("a",{staticClass:"tab__link flex justify-between items-center",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.select(s)}}},[n("span",[e._v(e._s(t.section.name))]),e._v(" "),n("span",{staticClass:"flex items-center justify-center w-6 h-6 rounded hover:bg-black hover:text-white",on:{click:function(t){return t.preventDefault(),e.remove(s)}}},[n("fa-icon",{staticClass:"fa-xs",attrs:{icon:"times"}})],1)])])})),0),e._v(" "),e._l(e.replicants,(function(t,s){return[n("div",{directives:[{name:"show",rawName:"v-show",value:s==e.active,expression:"index == active"}],key:"replicant-"+s+"-panel",staticClass:"tab__panel"},e._l(e.fields(t.section),(function(i){return n(i.type.id+"-fieldtype",{key:i.handle,tag:"component",staticClass:"form__group",attrs:{field:i,errors:e.fieldErrors(e.field.handle+"."+s+".fields.")},model:{value:t.fields[i.handle],callback:function(n){e.$set(t.fields,i.handle,n)},expression:"replicant.fields[sub.handle]"}})})),1)]}))],2)],2)}),[],!1,null,null,null);t.default=a.exports}}]);